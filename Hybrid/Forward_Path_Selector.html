<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forward Path Selector</title>
    <link rel="stylesheet" href="/Redstone-CG-Documentation/styles.css">
</head>
<body>
    <header>
        <h1>Forward Path Selector</h1>
    </header>

    <div class="block_table">
        <table>
            <th>Forward Path Selector</th>
            <tr><td><div id="bt-dsp" class="block_table-dsp">
                <div id="bt-rnd"><div id="rnd"></div></div>
                <div id="bt-btz" style="display: none;"><div id="btz"></div></div>
            </div></td></tr>
            <tr><td><div>
                <button id="bt-btn-1" class="bt-button active">BLR</button>
                <button id="bt-btn-2" class="bt-button">BRL</button>
                <button id="bt-btn-3" class="bt-button">LRB</button>
                <button id="bt-btn-4" class="bt-button">LBR</button>
                <button id="bt-btn-5" class="bt-button">RBL</button>
                <button id="bt-btn-6" class="bt-button">RLB</button>
            </div></td></tr>
            <tr><td><div>
                <button id="bt-redirect-A" class="bt-button active">Direct To A</button>
                <button id="bt-redirect-B" class="bt-button">Direct To B</button>
            </td></div></tr>
            <tr><td><div>
                <button id="bt-signal-low" class="bt-button active">Set Signal Low</button>
                <button id="bt-signal-high" class="bt-button">Set Signal High</button>
            </div></td></tr>
            <tr><td><div><div>Stackable</div><div>Yes(64)</div></div></td></tr>
            <tr><td><div><div><a href="https://minecraft.wiki/w/Explosion#Blast_resistance">Blast Resistance</a></div><div>10</div></div></td></tr>
            <tr><td><div><div><a href="https://minecraft.wiki/w/Breaking#Blocks_by_hardness">Hardness</a></div><div>1</div></div></td></tr>
        </table>
    </div>

    <main>
        <section id="overview">
            <h2>Overview</h2>
            <p>
                The <strong>Forward Path Selector</strong> is a Hybrid Gate that resembles a one-way electrical relay. It has an Analog Input (Unmarked) that is directed to either the Primary Output (<a href="/Redstone-CG-Documentation/Pin_Marks.html">Pin Mark A</a>) or the Secondary Output (<a href="/Redstone-CG-Documentation/Pin_Marks.html">Pin Mark B</a>) based on the Redstone Signal at the Selector pin (<a href="/Redstone-CG-Documentation/Pin_Marks.html">Pin Mark C</a>).
            </p>
            <p>
                When the Redstone Signal at Selector pin is low (0), the Analog Input is directed to the Primary Output. Conversely, when the Redstone Signal at the Selector pin is high (>0), the Analog Input is directed to the Secondary Output. An Output that has not been connected with the Analog Input will output a Redstone Signal level of 0. The gateâ€™s design visually indicates whether the Analog Input is powered and where it is directed.
            </p>
            <div class="image800">
                <!-- Image Placeholder: Example of Forward Path Selector -->
                <img alt="Forward Path Selector Example" src="/Redstone-CG-Documentation/media/images/Forward_Path_Selector_Example.png"/>
            </div>
        </section>

        <section id="configuration">
            <h2>Configuration</h2>
            <ul>
                <li><strong>Unmarked</strong>: Analog Input</li>
                <li><strong><a href="/Redstone-CG-Documentation/Pin_Marks.html">Pin Mark A</a>:</strong> Primary Output (Analog Signal Output).</li>
                <li><strong><a href="/Redstone-CG-Documentation/Pin_Marks.html">Pin Mark B</a>:</strong> Secondary Output (Alternate Analog Signal Output).</li>
                <li><strong><a href="/Redstone-CG-Documentation/Pin_Marks.html">Pin Mark C</a>:</strong> Selector Pin (Controls direction).</li>
            </ul>
        </section>

        <section id="obtaining">
            <h2>Crafting</h2>
            <p>Crafting ingredients for Forward Path Selector:</p>
            <div class="recipe_table">
                <table>
                    <tr><td><b>Ingredients</b></td><td><b><a href="/Redstone-CG-Documentation/RedCu_Crafter.html">RedCu Crafter</a> Recipe</b></td></tr>
                    <tr>
                        <td>1 <a href="/Redstone-CG-Documentation/Smooth_Stone_Plate.html">Smooth Stone Plate</a></td>
                        <td rowspan="3" width="400px"><div class="table-place" id="Normal-Making"></div></td>
                    </tr>
                    <tr><td>1 <a href="https://minecraft.wiki/w/Redstone_Dust">Redstone Dust</a></td></tr>
                    <tr><td>1 <a href="https://minecraft.wiki/w/Nether_Quartz">Quartz</a></td></tr>
                </table>
            </div>
        </section>
        <section id="version_log">
            <h2><a href="/Redstone-CG-Documentation/Version_Log.html">Version Log</a></h2>
            <div class="version_table">
                <table>
                    <tr><td>Version</td><td>Description</td></tr>
                    <tr><td>0.1.0</td><td>Introduced. Block first reads the blockstate on the input, and if suitable, uses blockstate value, if not, reads redstone signal. Updates neighbours when output changes.</td></tr>
                    <tr><td>0.1.1</td><td>Changed registry name from <code>path_selector</code> to <code>floor_forward_path_selector</code>. Replaced bottom texture from being that on the top to <a href="https://minecraft.wiki/w/Smooth_Stone">Smooth Stone Block</a>.</td></tr>
                    <tr><td>0.2.0</td><td>Changed registry name from <code>floor_forward_path_selector</code> to <code>normal_forward_path_selector</code>. Can be placed on walls and ceiling. Updates the block on the output when output changes instead of updating all neighbours. Output data is stored on Block Entity. Lost `rotate` and `mirror` block methods..</td></tr>
                    <tr><td>0.2.1</td><td>Reimplemented `rotate` block method. Reclassified as Hybrid Gate.</td></tr>
                </table>
            </div>
        </section>
    </main>

    <footer class="nav-links">
        <a href="/Redstone-CG-Documentation/index.html">Welcome Page</a>
        <a href="/Redstone-CG-Documentation/Getting_Started.html">Getting Started</a>
        <a href="/Redstone-CG-Documentation/List_of_Elements.html">List of Elements</a>
        <a href="/Redstone-CG-Documentation/Pin_Marks.html">Pin Marks</a>
        <a href="/Redstone-CG-Documentation/Known_Bugs.html">Known Bugs</a>
        <a href="/Redstone-CG-Documentation/Other_Links.html">Other</a>
    </footer>
    <script src="/Redstone-CG-Documentation/script.js"></script>
    <script>
        const gate = "components/hybrid/forward_path_selector";
        const rccr1array = [
            { slot: 0, img: "/Redstone-CG-Documentation/media/items/smooth_stone_plate.png" },
            { slot: 1, img: "https://minecraft.wiki/images/Redstone_Dust_JE2_BE2.png?8cf17" },
            { slot: 2, img: "https://minecraft.wiki/images/Nether_Quartz_JE2_BE2.png?d0049" },
            { slot: 3, img: `/Redstone-CG-Documentation/media/textures/${gate}.png` },
            { slot: 4, img: `/Redstone-CG-Documentation/media/textures/${gate}.png` }
        ];

        populateRedCuCrafter("Normal-Making", { category: 2, tipe: 0 }, rccr1array);
        
        window.addEventListener("resize", () => {
            populateRedCuCrafter("Normal-Making", { category: 2, tipe: 0 }, rccr1array);
        });

        const buttonArray = [
            { buttonId: 'bt-btn-1', pinMark: ["b", "l_alt", "r_altalt"] },
            { buttonId: 'bt-btn-2', pinMark: ["b", "r_alt", "l_altalt"] },
            { buttonId: 'bt-btn-3', pinMark: ["l", "r_alt", "b_altalt"] },
            { buttonId: 'bt-btn-4', pinMark: ["l", "b_alt", "r_altalt"] },
            { buttonId: 'bt-btn-5', pinMark: ["r", "b_alt", "l_altalt"] },
            { buttonId: 'bt-btn-6', pinMark: ["r", "l_alt", "b_altalt"] }
        ];
        const stateButtonArray = [
            { buttonId: 'bt-redirect-A', directed: "a" },
            { buttonId: 'bt-redirect-B', directed: "b" },
            { buttonId: "bt-signal-low", powered: "off" },
            { buttonId: "bt-signal-high", powered: "on" },
        ]
        let actvind = 0;
        let powered = "off";
        let directed = "a";
        document.addEventListener("DOMContentLoaded", function () {
            setupButtonDivSwitcher(buttonArray.map(({buttonId, pinMark}, index) => ({
                buttonId,
                functionCall: () => {
                    renderComponent("rnd", `${gate}/${powered}_${directed}.png`, pinMark, []);
                    blitzComponent("btz", `${gate}/${powered}_${directed}.png`, pinMark, []);
                    actvind = index;
                }
            })), "bt-rnd", "bt-btz", "bt-dsp");
            stateButtonArray.forEach((entry, index) => {
                const elm = document.getElementById(entry.buttonId);
                if("directed" in entry){
                    elm.onclick = function() {
                        directed = entry.directed;
                        renderComponent("rnd", `${gate}/${powered}_${directed}.png`, buttonArray[actvind].pinMark, []);
                        blitzComponent("btz", `${gate}/${powered}_${directed}.png`, buttonArray[actvind].pinMark, []);
                        stateButtonArray.forEach((oentry, oindex) => {if("directed" in oentry){document.getElementById(oentry.buttonId).classList.remove("active");}});
                        elm.classList.add("active");
                    };
                }
                if("powered" in entry){
                    elm.onclick = function() {
                        powered = entry.powered;
                        renderComponent("rnd", `${gate}/${powered}_${directed}.png`, buttonArray[actvind].pinMark, []);
                        blitzComponent("btz", `${gate}/${powered}_${directed}.png`, buttonArray[actvind].pinMark, []);
                        stateButtonArray.forEach((oentry, oindex) => {if("powered" in oentry){document.getElementById(oentry.buttonId).classList.remove("active");}});
                        elm.classList.add("active");
                    };
                }
            });
        });
    </script>
</body>
</html>